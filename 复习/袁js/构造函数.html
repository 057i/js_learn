<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<script>
    function User(name, age) {
        this.name = name;
        this.age = age;
        this.sayHello = function () {
            console.log(this.name)
        }
        return 123
    }


    //构造函数一般返回一个新的对象
    //但是如果构造函数不new的话，就不会返回默认的一个对象，
    //则如果再构造函数中返回原始类型，就返回原始类型值
    //如果返回的是一个函数或者对象的话，就忽略构造函数中的配置，返回函数或对象
    var user = new User("a", 18)
    user.sayHello()//a

    var user1 = User("q", 20)
    console.log(user1)//123
    // user1.sayHello()//报错


    function A() {
        console.log(new.target)
    }

    A()  //undefined
    new A()  //指向该构造函数本身


    function CreateUser(name, age) {
        if (new.target == this) {
            this.name = name;
            this.age = age;
            this.sayHello = function f() {
                console.log(this.name)
            }

        } else {
            return {
                name,
                age,
                sayHello: function f() {
                    console.log(this.name)
                }
            }
        }
    }

    var uu = new CreateUser('qq', 78)
    var uu1 = CreateUser("qq", 98)
    uu.sayHello()//qq
    uu1.sayHello()//qq


</script>

</body>
</html>
